<% layout("layouts/boilerplate.ejs") -%>

<div class="text-center mb-5">
  <h2>ðŸŽ‰ All College Events</h2>
  <p class="text-muted">Discover and manage exciting events happening on campus</p>
</div>

<% if (allEvents.length === 0) { %>
  <div class="empty-state">
    <i class="fas fa-calendar-times"></i>
    <h3>No Events Yet</h3>
    <p>Start by creating your first event!</p>
    <a href="/events/new" class="btn btn-primary mt-3">
      <i class="fas fa-plus me-2"></i>Create First Event
    </a>
  </div>
<% } else { %>
  <div class="row g-4">
    <% allEvents.forEach(event => { %>
      <div class="col-lg-4 col-md-6">
        <div class="card">
          <img src="<%= event.poster %>" class="card-img-top" alt="<%= event.name %> poster">
          <div class="card-body">
            <span class="category-badge category-<%= event.category.toLowerCase() %>">
              <%= event.category %>
            </span>
            <h5 class="card-title"><%= event.name %></h5>
            <p class="card-text"><%= event.description.substring(0, 80) %>...</p>
            
            <div class="mb-3">
              <p class="mb-2">
                <i class="fas fa-calendar text-primary me-2"></i>
                <strong>Date:</strong> <%= event.date.toDateString() %>
              </p>
              <p class="mb-2">
                <i class="fas fa-map-marker-alt text-danger me-2"></i>
                <strong>Venue:</strong> <%= event.venue %>
              </p>
              <p class="mb-0">
                <i class="fas fa-rupee-sign text-success me-2"></i>
                <strong>Fee:</strong> â‚¹<%= event.registrationFee %>
              </p>
            </div>
            
            <a href="/events/<%= event._id %>" class="btn btn-primary w-100">
              <i class="fas fa-eye me-2"></i>View Details
            </a>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
<% } %>